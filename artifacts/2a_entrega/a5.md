# A5: Relational Schema, validation and schema refinement

This artefact includes the Relational Schema from them Conceptual Data Model presented in [A4](a4.md). It includes the relation schemas, attributes, domains, primary keys, foreign keys and other integrity rules: UNIQUE, DEFAULT, NOT NULL, CHECK.

## 1. Relational Schema

| Relation reference | Relation Compact Notation |
| ------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| R01 | user(<ins>__userID__</ins>, name NN, email NN UK, birthDate NN, password NN, gender NN, profilePic, admin DF False) |
| R02 | event(<ins>__eventID__</ins>, name NN UK, description NN, capacity CK capacity > 0, date NN CK >= today, creationDate DF today, price CK >= 0, address NN, avg_rating CK >= 0 & & <= 5, idTag → Tag, idCity → City) |
| R03 | photo(path NN, **eventID** → event NN)
| R03 | tag(<ins> __tagID__ </ins>, name NN, symbol NN) | 
| R04 | city(<ins> __cityID__ </ins>, name NN) | 
| R05 | country(<ins> __countryID__ </ins>, name NN) |
| R06 | ticket(<ins> __ticketID__ </ins>, qrcode, eventID → event NN, userID → user NN) |
| R07 | review(<ins> __reviewID__ </ins>, rating, eventID → event NN, userID → user NN) |
| R08 | comment(__commentID__, text NN, date DF today, time DF NowidUser → user NN, idEvent → event NN)
| R09 | report(__reportID__, description NN, date DF today, idUser → user NN, idComment → comment)
| R10 | event_host(userID → user, eventID → event)
| R11 | invited(status DF False, <ins> userID</ins> → user, <ins> eventID </ins> → event ) |

### Legend:
- **NN** = NOT NULL
- **UK** = UNIQUE
- **DF** = DEFAULT
- **CK** = CHECK

### 2. Domains

> The specification of additional domains can also be made in a compact form, using the notation:  

| Domain Name | Domain Specification           |
| ----------- | ------------------------------ |
| Today	      | DATE DEFAULT CURRENT_DATE      |
| Now         | TIME DEFAULT CURRENT_TIME

   